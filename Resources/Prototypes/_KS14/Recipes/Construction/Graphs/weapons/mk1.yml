# SPDX-FileCopyrightText: 2025 DeusMaldPr
# SPDX-FileCopyrightText: 2025 LaCumbiaDelCoronavirus
# SPDX-FileCopyrightText: 2025 github_actions[bot]
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: constructionGraph
  id: mk1Graph
  start: start
  graph:
  - node: start
    edges:
    - to: mk1unfinishednohandle
      steps:
      - tag: PistolBarrel
        icon:
          sprite: _KS14/Objects/Misc/pistol_barrel.rsi
          state: icon
        name: construction-graph-tag-pistol-barrel
      - tag: ModularReceiver
        icon:
          sprite: Objects/Misc/modular_receiver.rsi
          state: icon
        name: construction-graph-tag-modular-receiver
      - material: MetalRod #gun spring replacement, who cares
        amount: 1
        doAfter: 5

  - node: mk1unfinishednohandle
    entity: mk1unfinishednohandle
    edges:
    - to: mk1unfinishedhandle
      steps:
      - tool: Welding #welding the barrel to the frame
        fuel: 5
        doAfter: 3
      - tool: Screwing #screwing in the modular reciever
        doAfter: 2
      - material: Steel #the handle
        amount: 1
        doAfter: 1
      - tool: Welding
        fuel: 5
        doAfter: 3

  - node: mk1unfinishedhandle
    entity: mk1unfinishedhandle
    edges:
    - to: mk1
      steps:
      - tool: Anchoring #final wrenching, putting on slide cover
        doAfter: 4

  - node: mk1
    entity: WeaponPistolMk1
